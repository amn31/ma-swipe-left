"use strict";function SwipeLeft(t){var i,s,o,e=t.element,c=t.settings,r={},a=0,d=!1,h=!1,u=!1,l=document.documentElement&&null!=document.documentElement.ontouchstart;function p(){i.css("transition-property","margin-left"),i.css("transition-duration","0.2s"),i.css("transition-timing-function","ease-in"),i.css("marginLeft","0px"),s.width(0),i.css("transition-timing-function","ease-in"),i.css("marginLeft","0px"),i.removeClass(c.classOnSwipe),r.position_started=0,a=0,s.hide(),o.html("chevron_left")}function n(t){var n;d=!1,Math.abs(a)<3*r.maxWithExtract/4&&!u||h?(p(),n=!1):(r.position_started=-1*r.maxWithExtract,o.html("chevron_right"),n=!0,m(r.position_started,n)),u=!1,h!=n&&(0==n?c.onClose(this,e):c.onOpen(this,e),h=n,c.onChange.call(this,e,n))}function f(t){r.paddingLeft=0,r.position_started=0,r.maxWithExtract=c.rightWidth,i.css("transition-property",""),i.css("transition-duration",""),i.css("transition-timing-function","ease-out"),s.css("transition-property",""),s.css("transition-duration",""),s.css("transition-timing-function","ease-in"),r.width||(r.width=i.width(),i.css("paddingLeft")&&(r.paddingLeft=parseInt(i.css("paddingLeft"))),r.bordersRight=c.bordersRight,r.position_started=0),r.width&&(i.addClass(c.classOnSwipe),d=!0)}function m(t,n){Math.abs(t)<=r.maxWithExtract&&t<0?(a=t,i.css("marginLeft",t),5<(t=-1*t+2*r.paddingLeft-r.bordersRight)?(s.show(),n&&(s.css("transition-property","width"),s.css("transition-duration","0.2s"),s.css("transition-timing-function","ease-in")),s.width(t)):(s.width(0),s.hide())):s.hide()}function g(t){var n;1==d&&(l?t.touches&&0<t.touches.length&&(n=t.touches[0].clientX):n=t.clientX,0<n&&!r.position_started&&(r.position_started=n),r.position_started&&m(a=n-r.position_started))}this.start=function(){i=$(e).find(".collection-swipe-left"),s=$(e).find(".collection-swipe-right"),o=$(e).find(".collection-swipe-icon");var t=$(e).find(".collection-swipe-close");l?(i.on("touchmove",g),i.on("touchstart",f),i.on("touchend",n)):(i.on("mousemove",g),i.on("mousedown",f),i.on("mouseup",n)),t&&t.each(function(t,n){$(n).on("mousedown",function(){return setTimeout(p,10),!1})}),o.on("mousedown",function(){return 0==h&&(u=!0),!0}),o.html("chevron_left"),s.hide()},this.state=function(){return c.isOpened}}jQuery.fn.collection_swipe=function(t){var i=$.extend({},{isOpened:!1,bordersRight:0,rightWidth:180,classOnSwipe:"collection-swipe-onclick",onOpen:function(t){},onClose:function(t){},onChange:function(){}},t);return this.each(function(t,n){n.className.match(/collection-swipe/)&&(n.collection=new SwipeLeft({element:n,settings:i}).start())})};